<div class="container mt-5 d-flex flex-column" style="min-height: 85vh;">
  <h2 class="fw-bold">Lernen</h2>
  <p class="text-muted">Einfach und fokussiert lernen</p>

  <div class="bg-warning-subtle rounded p-4 flex-grow-1 d-flex flex-column justify-content-between">
    <div>
      <div *ngIf="!showAnswer">
        <h5 class="mb-3">{{ questions[currentIndex].text }}</h5>

        <img *ngIf="questions[currentIndex].media" [src]="questions[currentIndex].media" class="img-fluid mb-3" alt=""/>

        <ul *ngIf="questions[currentIndex].answers?.length">
          <li *ngFor="let a of questions[currentIndex].answers">{{ a.text }}</li>
        </ul>
      </div>

      <div *ngIf="showAnswer">
        <h5>Die Richtige Antwort lautet:</h5>
        <p>{{ questions[currentIndex].explanation }}</p>
      </div>
    </div>

    <div class="d-flex justify-content-between align-items-center mt-3">
      <button *ngIf="showAnswer" class="btn btn-outline-secondary rounded-pill" (click)="toggleAnswer()">
        zudecken
      </button>

      <button *ngIf="!showAnswer" class="btn btn-warning rounded-pill" (click)="toggleAnswer()">
        aufdecken
      </button>

      <button *ngIf="showAnswer && currentIndex < questions.length - 1" class="btn btn-success rounded-pill ms-auto" (click)="goToNext()">
        weiter
      </button>

      <button *ngIf="showAnswer && currentIndex === questions.length - 1" class="btn btn-primary rounded-pill ms-auto" (click)="finishLearning()">
        beenden
      </button>
    </div>
  </div>

  <div class="d-flex justify-content-center align-items-center mt-3">
    <button class="btn btn-light rounded-pill me-3" (click)="prev()" [disabled]="currentIndex === 0">
      <i class="bi bi-chevron-left"></i>
    </button>
    <button class="btn btn-light rounded-pill" (click)="next()" [disabled]="currentIndex >= questions.length - 1">
      <i class="bi bi-chevron-right"></i>
    </button>
  </div>

  <div class="text-center mt-2 mb-5">
    {{ currentIndex + 1 }}/{{ questions.length }}
  </div>

</div>
